webpackJsonp([65],{378:function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(379);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzc4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZG9jcy9jb21wb25lbnRzL2NhY2hlLm1kP2Y2ZTUiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiISF2dWUtbG9hZGVyIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbWFya2Rvd24tbG9hZGVyL19jYWNoZS9jYWNoZS0zMi52dWVcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9kb2NzL2NvbXBvbmVudHMvY2FjaGUubWRcbi8vIG1vZHVsZSBpZCA9IDM3OFxuLy8gbW9kdWxlIGNodW5rcyA9IDY1Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///378\n")},379:function(module,exports,__webpack_require__){eval("var Component = __webpack_require__(1)(\n  /* script */\n  null,\n  /* template */\n  __webpack_require__(380),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzc5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Z1ZS1tYXJrZG93bi1sb2FkZXIvX2NhY2hlL2NhY2hlLTMyLnZ1ZT81YzlmIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBDb21wb25lbnQgPSByZXF1aXJlKFwiIS4uLy4uL3Z1ZS1sb2FkZXIvbGliL2NvbXBvbmVudC1ub3JtYWxpemVyXCIpKFxuICAvKiBzY3JpcHQgKi9cbiAgbnVsbCxcbiAgLyogdGVtcGxhdGUgKi9cbiAgcmVxdWlyZShcIiEhLi4vLi4vdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXIvaW5kZXg/e1xcXCJpZFxcXCI6XFxcImRhdGEtdi0wMjkxZGE3ZVxcXCJ9IS4uLy4uL3Z1ZS1sb2FkZXIvbGliL3NlbGVjdG9yP3R5cGU9dGVtcGxhdGUmaW5kZXg9MCEuL2NhY2hlLTMyLnZ1ZVwiKSxcbiAgLyogc2NvcGVJZCAqL1xuICBudWxsLFxuICAvKiBjc3NNb2R1bGVzICovXG4gIG51bGxcbilcblxubW9kdWxlLmV4cG9ydHMgPSBDb21wb25lbnQuZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlciEuL25vZGVfbW9kdWxlcy92dWUtbWFya2Rvd24tbG9hZGVyL19jYWNoZS9jYWNoZS0zMi52dWVcbi8vIG1vZHVsZSBpZCA9IDM3OVxuLy8gbW9kdWxlIGNodW5rcyA9IDY1Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///379\n")},380:function(module,exports){eval("module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _vm._m(0)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', [_c('h1', [_vm._v(\"Cache 本地存储\")]), _vm._v(\" \"), _c('h3', [_vm._v(\"对localStorage进行封装提供了如下功能\")]), _vm._v(\" \"), _c('p', [_vm._v(\"1.为设置的key自动增加前缀避免多业务方向的key冲突\"), _c('br'), _vm._v(\"\\n2.可以设置阈值，对localStorage的内容进行自动清除\"), _c('br'), _vm._v(\"\\n3.清除时，可以配置卸除策略，FIFO(先进先出) LRU(最近最少使用)\"), _c('br'), _vm._v(\"\\n4.在使用时，只需要配置前面的prefix(key前缀)、dropStrategy(卸除策略)、maximum(存储使用阈值)就可以使用啦\"), _c('br'), _vm._v(\"\\n5.本工具对外提供了两个接口setItem(key, val)和getItem(key)\")]), _vm._v(\" \"), _c('h3', [_vm._v(\"源代码：\")]), _vm._v(\" \"), _c('pre', [_vm._v(\"/*\\n  提供了自动监控占用大小\\n  设置卸除策略的缓存工具\\n*/\\n\\n// key的前缀\\nlet prefix = 'supermarket-'\\n// 卸除策略 先进先出 FIFO 最近最少使用 LRU\\nlet dropStrategy = 'FIFO'\\n// 最大占用阈值 单位kb 2500 是2.5M\\nlet maximum = 2500\\n// 清除开始时间点 默认为7天\\nlet timePoint = 1000 * 60 * 60 * 24 * 7\\n\\nfunction occupySize () {\\n  var size = 0\\n  for (let item in window.localStorage) {\\n    if (window.localStorage.hasOwnProperty(item)) {\\n      // console.info(window.localStorage.getItem(item))\\n      size += window.localStorage.getItem(item).length\\n    }\\n  }\\n  // console.log('当前localStorage剩余容量为' + (size / 1024).toFixed(2) + 'KB')\\n  return (size / 1024).toFixed(2)\\n}\\n\\nfunction autoClear () {\\n  if (occupySize() < maximum) {\\n    // console.info('暂时不需要清除缓存，空间还有')\\n    return\\n  }\\n  clearItems(dropStrategy)\\n}\\n\\nfunction clearItems (strategy) {\\n  let timeInterval = timePoint\\n  while (occupySize() >= maximum && timeInterval > 1000) {\\n    for (let item in window.localStorage) {\\n      if (window.localStorage.hasOwnProperty(item) && item.indexOf(prefix) === 0) {\\n        let valStr = window.localStorage.getItem(item)\\n        try {\\n          let valObj = JSON.parse(valStr)\\n          if (strategy === 'FIFO' && (valObj.createTime + timeInterval < Date.now())) {\\n            window.localStorage.removeItem(item)\\n          } else if (strategy === 'LRU' && (valObj.lastUsedTime + timeInterval < Date.now())) {\\n            window.localStorage.removeItem(item)\\n          }\\n        } catch (e) {\\n          console.warn('error occur during clear opertion: ' + e)\\n        }\\n      }\\n    }\\n    // 以3倍率逼近当前时间\\n    timeInterval = Math.round(timeInterval / 3)\\n  }\\n}\\n\\nsetTimeout(autoClear, 2000)\\n\\n// 在任何一个值对象中都包装了两个属性 createTime 和 lastUsedTime\\n// 真实的值对象在val属性中\\nexport function setItem (key, value) {\\n  let wrapper = {\\n    createTime: Date.now(),\\n    lastUsedTime: 0,\\n    val: value\\n  }\\n  window.localStorage.setItem(prefix + key, JSON.stringify(wrapper))\\n}\\n\\nexport function getItem (key) {\\n  let wrapper = window.localStorage.getItem(prefix + key)\\n  let result = ''\\n  try {\\n    result = JSON.parse(wrapper)\\n    // 写入最近访问时间\\n    result.lastUsedTime = Date.now()\\n    window.localStorage.setItem(prefix + key, JSON.stringify(result))\\n  } catch (e) {\\n    console.warn('localStorage parse data error : ' + e)\\n  }\\n  return result && result.val\\n}\\n\")])])\n}]}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzgwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Z1ZS1tYXJrZG93bi1sb2FkZXIvX2NhY2hlL2NhY2hlLTMyLnZ1ZT8zNzkyIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzPXtyZW5kZXI6ZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7XG4gIHJldHVybiBfdm0uX20oMClcbn0sc3RhdGljUmVuZGVyRm5zOiBbZnVuY3Rpb24gKCl7dmFyIF92bT10aGlzO3ZhciBfaD1fdm0uJGNyZWF0ZUVsZW1lbnQ7dmFyIF9jPV92bS5fc2VsZi5fY3x8X2g7XG4gIHJldHVybiBfYygnc2VjdGlvbicsIFtfYygnaDEnLCBbX3ZtLl92KFwiQ2FjaGUg5pys5Zyw5a2Y5YKoXCIpXSksIF92bS5fdihcIiBcIiksIF9jKCdoMycsIFtfdm0uX3YoXCLlr7lsb2NhbFN0b3JhZ2Xov5vooYzlsIHoo4Xmj5DkvpvkuoblpoLkuIvlip/og71cIildKSwgX3ZtLl92KFwiIFwiKSwgX2MoJ3AnLCBbX3ZtLl92KFwiMS7kuLrorr7nva7nmoRrZXnoh6rliqjlop7liqDliY3nvIDpgb/lhY3lpJrkuJrliqHmlrnlkJHnmoRrZXnlhrLnqoFcIiksIF9jKCdicicpLCBfdm0uX3YoXCJcXG4yLuWPr+S7peiuvue9rumYiOWAvO+8jOWvuWxvY2FsU3RvcmFnZeeahOWGheWuuei/m+ihjOiHquWKqOa4hemZpFwiKSwgX2MoJ2JyJyksIF92bS5fdihcIlxcbjMu5riF6Zmk5pe277yM5Y+v5Lul6YWN572u5Y246Zmk562W55Wl77yMRklGTyjlhYjov5vlhYjlh7opIExSVSjmnIDov5HmnIDlsJHkvb/nlKgpXCIpLCBfYygnYnInKSwgX3ZtLl92KFwiXFxuNC7lnKjkvb/nlKjml7bvvIzlj6rpnIDopoHphY3nva7liY3pnaLnmoRwcmVmaXgoa2V55YmN57yAKeOAgWRyb3BTdHJhdGVneSjljbjpmaTnrZbnlaUp44CBbWF4aW11bSjlrZjlgqjkvb/nlKjpmIjlgLwp5bCx5Y+v5Lul5L2/55So5ZWmXCIpLCBfYygnYnInKSwgX3ZtLl92KFwiXFxuNS7mnKzlt6Xlhbflr7nlpJbmj5DkvpvkuobkuKTkuKrmjqXlj6NzZXRJdGVtKGtleSwgdmFsKeWSjGdldEl0ZW0oa2V5KVwiKV0pLCBfdm0uX3YoXCIgXCIpLCBfYygnaDMnLCBbX3ZtLl92KFwi5rqQ5Luj56CB77yaXCIpXSksIF92bS5fdihcIiBcIiksIF9jKCdwcmUnLCBbX3ZtLl92KFwiLypcXG4gIOaPkOS+m+S6huiHquWKqOebkeaOp+WNoOeUqOWkp+Wwj1xcbiAg6K6+572u5Y246Zmk562W55Wl55qE57yT5a2Y5bel5YW3XFxuKi9cXG5cXG4vLyBrZXnnmoTliY3nvIBcXG5sZXQgcHJlZml4ID0gJ3N1cGVybWFya2V0LSdcXG4vLyDljbjpmaTnrZbnlaUg5YWI6L+b5YWI5Ye6IEZJRk8g5pyA6L+R5pyA5bCR5L2/55SoIExSVVxcbmxldCBkcm9wU3RyYXRlZ3kgPSAnRklGTydcXG4vLyDmnIDlpKfljaDnlKjpmIjlgLwg5Y2V5L2Na2IgMjUwMCDmmK8yLjVNXFxubGV0IG1heGltdW0gPSAyNTAwXFxuLy8g5riF6Zmk5byA5aeL5pe26Ze054K5IOm7mOiupOS4ujflpKlcXG5sZXQgdGltZVBvaW50ID0gMTAwMCAqIDYwICogNjAgKiAyNCAqIDdcXG5cXG5mdW5jdGlvbiBvY2N1cHlTaXplICgpIHtcXG4gIHZhciBzaXplID0gMFxcbiAgZm9yIChsZXQgaXRlbSBpbiB3aW5kb3cubG9jYWxTdG9yYWdlKSB7XFxuICAgIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XFxuICAgICAgLy8gY29uc29sZS5pbmZvKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShpdGVtKSlcXG4gICAgICBzaXplICs9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShpdGVtKS5sZW5ndGhcXG4gICAgfVxcbiAgfVxcbiAgLy8gY29uc29sZS5sb2coJ+W9k+WJjWxvY2FsU3RvcmFnZeWJqeS9meWuuemHj+S4uicgKyAoc2l6ZSAvIDEwMjQpLnRvRml4ZWQoMikgKyAnS0InKVxcbiAgcmV0dXJuIChzaXplIC8gMTAyNCkudG9GaXhlZCgyKVxcbn1cXG5cXG5mdW5jdGlvbiBhdXRvQ2xlYXIgKCkge1xcbiAgaWYgKG9jY3VweVNpemUoKSA8IG1heGltdW0pIHtcXG4gICAgLy8gY29uc29sZS5pbmZvKCfmmoLml7bkuI3pnIDopoHmuIXpmaTnvJPlrZjvvIznqbrpl7Tov5jmnIknKVxcbiAgICByZXR1cm5cXG4gIH1cXG4gIGNsZWFySXRlbXMoZHJvcFN0cmF0ZWd5KVxcbn1cXG5cXG5mdW5jdGlvbiBjbGVhckl0ZW1zIChzdHJhdGVneSkge1xcbiAgbGV0IHRpbWVJbnRlcnZhbCA9IHRpbWVQb2ludFxcbiAgd2hpbGUgKG9jY3VweVNpemUoKSA+PSBtYXhpbXVtICYmIHRpbWVJbnRlcnZhbCA+IDEwMDApIHtcXG4gICAgZm9yIChsZXQgaXRlbSBpbiB3aW5kb3cubG9jYWxTdG9yYWdlKSB7XFxuICAgICAgaWYgKHdpbmRvdy5sb2NhbFN0b3JhZ2UuaGFzT3duUHJvcGVydHkoaXRlbSkgJiYgaXRlbS5pbmRleE9mKHByZWZpeCkgPT09IDApIHtcXG4gICAgICAgIGxldCB2YWxTdHIgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oaXRlbSlcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgIGxldCB2YWxPYmogPSBKU09OLnBhcnNlKHZhbFN0cilcXG4gICAgICAgICAgaWYgKHN0cmF0ZWd5ID09PSAnRklGTycgJiYgKHZhbE9iai5jcmVhdGVUaW1lICsgdGltZUludGVydmFsIDwgRGF0ZS5ub3coKSkpIHtcXG4gICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oaXRlbSlcXG4gICAgICAgICAgfSBlbHNlIGlmIChzdHJhdGVneSA9PT0gJ0xSVScgJiYgKHZhbE9iai5sYXN0VXNlZFRpbWUgKyB0aW1lSW50ZXJ2YWwgPCBEYXRlLm5vdygpKSkge1xcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShpdGVtKVxcbiAgICAgICAgICB9XFxuICAgICAgICB9IGNhdGNoIChlKSB7XFxuICAgICAgICAgIGNvbnNvbGUud2FybignZXJyb3Igb2NjdXIgZHVyaW5nIGNsZWFyIG9wZXJ0aW9uOiAnICsgZSlcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgIH1cXG4gICAgLy8g5LulM+WAjeeOh+mAvOi/keW9k+WJjeaXtumXtFxcbiAgICB0aW1lSW50ZXJ2YWwgPSBNYXRoLnJvdW5kKHRpbWVJbnRlcnZhbCAvIDMpXFxuICB9XFxufVxcblxcbnNldFRpbWVvdXQoYXV0b0NsZWFyLCAyMDAwKVxcblxcbi8vIOWcqOS7u+S9leS4gOS4quWAvOWvueixoeS4remDveWMheijheS6huS4pOS4quWxnuaApyBjcmVhdGVUaW1lIOWSjCBsYXN0VXNlZFRpbWVcXG4vLyDnnJ/lrp7nmoTlgLzlr7nosaHlnKh2YWzlsZ7mgKfkuK1cXG5leHBvcnQgZnVuY3Rpb24gc2V0SXRlbSAoa2V5LCB2YWx1ZSkge1xcbiAgbGV0IHdyYXBwZXIgPSB7XFxuICAgIGNyZWF0ZVRpbWU6IERhdGUubm93KCksXFxuICAgIGxhc3RVc2VkVGltZTogMCxcXG4gICAgdmFsOiB2YWx1ZVxcbiAgfVxcbiAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHByZWZpeCArIGtleSwgSlNPTi5zdHJpbmdpZnkod3JhcHBlcikpXFxufVxcblxcbmV4cG9ydCBmdW5jdGlvbiBnZXRJdGVtIChrZXkpIHtcXG4gIGxldCB3cmFwcGVyID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHByZWZpeCArIGtleSlcXG4gIGxldCByZXN1bHQgPSAnJ1xcbiAgdHJ5IHtcXG4gICAgcmVzdWx0ID0gSlNPTi5wYXJzZSh3cmFwcGVyKVxcbiAgICAvLyDlhpnlhaXmnIDov5Horr/pl67ml7bpl7RcXG4gICAgcmVzdWx0Lmxhc3RVc2VkVGltZSA9IERhdGUubm93KClcXG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHByZWZpeCArIGtleSwgSlNPTi5zdHJpbmdpZnkocmVzdWx0KSlcXG4gIH0gY2F0Y2ggKGUpIHtcXG4gICAgY29uc29sZS53YXJuKCdsb2NhbFN0b3JhZ2UgcGFyc2UgZGF0YSBlcnJvciA6ICcgKyBlKVxcbiAgfVxcbiAgcmV0dXJuIHJlc3VsdCAmJiByZXN1bHQudmFsXFxufVxcblwiKV0pXSlcbn1dfVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyP3tcImlkXCI6XCJkYXRhLXYtMDI5MWRhN2VcIn0hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1tYXJrZG93bi1sb2FkZXIvX2NhY2hlL2NhY2hlLTMyLnZ1ZVxuLy8gbW9kdWxlIGlkID0gMzgwXG4vLyBtb2R1bGUgY2h1bmtzID0gNjUiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///380\n")}});