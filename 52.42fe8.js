webpackJsonp([52],{366:function(module,exports,__webpack_require__){eval("var Component = __webpack_require__(3)(\n  /* script */\n  null,\n  /* template */\n  __webpack_require__(453),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzY2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi92dWUtbWFya2Rvd24tbG9hZGVyL19jYWNoZS9jYWNoZS00Ny52dWU/NGJmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQ29tcG9uZW50ID0gcmVxdWlyZShcIiEuLi8uLi92dWUtbG9hZGVyL2xpYi9jb21wb25lbnQtbm9ybWFsaXplclwiKShcbiAgLyogc2NyaXB0ICovXG4gIG51bGwsXG4gIC8qIHRlbXBsYXRlICovXG4gIHJlcXVpcmUoXCIhIS4uLy4uL3Z1ZS1sb2FkZXIvbGliL3RlbXBsYXRlLWNvbXBpbGVyL2luZGV4P3tcXFwiaWRcXFwiOlxcXCJkYXRhLXYtMDQ4ZDI4YTJcXFwifSEuLi8uLi92dWUtbG9hZGVyL2xpYi9zZWxlY3Rvcj90eXBlPXRlbXBsYXRlJmluZGV4PTAhLi9jYWNoZS00Ny52dWVcIiksXG4gIC8qIHNjb3BlSWQgKi9cbiAgbnVsbCxcbiAgLyogY3NzTW9kdWxlcyAqL1xuICBudWxsXG4pXG5cbm1vZHVsZS5leHBvcnRzID0gQ29tcG9uZW50LmV4cG9ydHNcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi92dWUtbG9hZGVyIS4vfi92dWUtbWFya2Rvd24tbG9hZGVyL19jYWNoZS9jYWNoZS00Ny52dWVcbi8vIG1vZHVsZSBpZCA9IDM2NlxuLy8gbW9kdWxlIGNodW5rcyA9IDUyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///366\n")},453:function(module,exports){eval("module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _vm._m(0)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', [_c('h1', [_vm._v(\"Cache 本地存储\")]), _vm._v(\" \"), _c('h3', [_vm._v(\"对localStorage进行封装提供了如下功能\")]), _vm._v(\" \"), _c('p', [_vm._v(\"1.为设置的key自动增加前缀避免多业务方向的key冲突\"), _c('br'), _vm._v(\"\\n2.可以设置阈值，对localStorage的内容进行自动清除\"), _c('br'), _vm._v(\"\\n3.清除时，可以配置卸除策略，FIFO(先进先出) LRU(最近最少使用)\"), _c('br'), _vm._v(\"\\n4.在使用时，只需要配置前面的prefix(key前缀)、dropStrategy(卸除策略)、maximum(存储使用阈值)就可以使用啦\"), _c('br'), _vm._v(\"\\n5.本工具对外提供了两个接口setItem(key, val)和getItem(key)\")]), _vm._v(\" \"), _c('h3', [_vm._v(\"源代码：\")]), _vm._v(\" \"), _c('pre', [_vm._v(\"/*\\n  提供了自动监控占用大小\\n  设置卸除策略的缓存工具\\n*/\\n\\n// key的前缀\\nlet prefix = 'supermarket-'\\n// 卸除策略 先进先出 FIFO 最近最少使用 LRU\\nlet dropStrategy = 'FIFO'\\n// 最大占用阈值 单位kb 2500 是2.5M\\nlet maximum = 2500\\n// 清除开始时间点 默认为7天\\nlet timePoint = 1000 * 60 * 60 * 24 * 7\\n\\nfunction occupySize () {\\n  var size = 0\\n  for (let item in window.localStorage) {\\n    if (window.localStorage.hasOwnProperty(item)) {\\n      // console.info(window.localStorage.getItem(item))\\n      size += window.localStorage.getItem(item).length\\n    }\\n  }\\n  // console.log('当前localStorage剩余容量为' + (size / 1024).toFixed(2) + 'KB')\\n  return (size / 1024).toFixed(2)\\n}\\n\\nfunction autoClear () {\\n  if (occupySize() < maximum) {\\n    // console.info('暂时不需要清除缓存，空间还有')\\n    return\\n  }\\n  clearItems(dropStrategy)\\n}\\n\\nfunction clearItems (strategy) {\\n  let timeInterval = timePoint\\n  while (occupySize() >= maximum && timeInterval > 1000) {\\n    for (let item in window.localStorage) {\\n      if (window.localStorage.hasOwnProperty(item) && item.indexOf(prefix) === 0) {\\n        let valStr = window.localStorage.getItem(item)\\n        try {\\n          let valObj = JSON.parse(valStr)\\n          if (strategy === 'FIFO' && (valObj.createTime + timeInterval < Date.now())) {\\n            window.localStorage.removeItem(item)\\n          } else if (strategy === 'LRU' && (valObj.lastUsedTime + timeInterval < Date.now())) {\\n            window.localStorage.removeItem(item)\\n          }\\n        } catch (e) {\\n          console.warn('error occur during clear opertion: ' + e)\\n        }\\n      }\\n    }\\n    // 以3倍率逼近当前时间\\n    timeInterval = Math.round(timeInterval / 3)\\n  }\\n}\\n\\nsetTimeout(autoClear, 2000)\\n\\n// 在任何一个值对象中都包装了两个属性 createTime 和 lastUsedTime\\n// 真实的值对象在val属性中\\nexport function setItem (key, value) {\\n  let wrapper = {\\n    createTime: Date.now(),\\n    lastUsedTime: 0,\\n    val: value\\n  }\\n  window.localStorage.setItem(prefix + key, JSON.stringify(wrapper))\\n}\\n\\nexport function getItem (key) {\\n  let wrapper = window.localStorage.getItem(prefix + key)\\n  let result = ''\\n  try {\\n    result = JSON.parse(wrapper)\\n    // 写入最近访问时间\\n    result.lastUsedTime = Date.now()\\n    window.localStorage.setItem(prefix + key, JSON.stringify(result))\\n  } catch (e) {\\n    console.warn('localStorage parse data error : ' + e)\\n  }\\n  return result && result.val\\n}\\n\")])])\n}]}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDUzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi92dWUtbWFya2Rvd24tbG9hZGVyL19jYWNoZS9jYWNoZS00Ny52dWU/Y2QxOCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cz17cmVuZGVyOmZ1bmN0aW9uICgpe3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO1xuICByZXR1cm4gX3ZtLl9tKDApXG59LHN0YXRpY1JlbmRlckZuczogW2Z1bmN0aW9uICgpe3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO1xuICByZXR1cm4gX2MoJ3NlY3Rpb24nLCBbX2MoJ2gxJywgW192bS5fdihcIkNhY2hlIOacrOWcsOWtmOWCqFwiKV0pLCBfdm0uX3YoXCIgXCIpLCBfYygnaDMnLCBbX3ZtLl92KFwi5a+5bG9jYWxTdG9yYWdl6L+b6KGM5bCB6KOF5o+Q5L6b5LqG5aaC5LiL5Yqf6IO9XCIpXSksIF92bS5fdihcIiBcIiksIF9jKCdwJywgW192bS5fdihcIjEu5Li66K6+572u55qEa2V56Ieq5Yqo5aKe5Yqg5YmN57yA6YG/5YWN5aSa5Lia5Yqh5pa55ZCR55qEa2V55Yay56qBXCIpLCBfYygnYnInKSwgX3ZtLl92KFwiXFxuMi7lj6/ku6Xorr7nva7pmIjlgLzvvIzlr7lsb2NhbFN0b3JhZ2XnmoTlhoXlrrnov5vooYzoh6rliqjmuIXpmaRcIiksIF9jKCdicicpLCBfdm0uX3YoXCJcXG4zLua4hemZpOaXtu+8jOWPr+S7pemFjee9ruWNuOmZpOetlueVpe+8jEZJRk8o5YWI6L+b5YWI5Ye6KSBMUlUo5pyA6L+R5pyA5bCR5L2/55SoKVwiKSwgX2MoJ2JyJyksIF92bS5fdihcIlxcbjQu5Zyo5L2/55So5pe277yM5Y+q6ZyA6KaB6YWN572u5YmN6Z2i55qEcHJlZml4KGtleeWJjee8gCnjgIFkcm9wU3RyYXRlZ3ko5Y246Zmk562W55WlKeOAgW1heGltdW0o5a2Y5YKo5L2/55So6ZiI5YC8KeWwseWPr+S7peS9v+eUqOWVplwiKSwgX2MoJ2JyJyksIF92bS5fdihcIlxcbjUu5pys5bel5YW35a+55aSW5o+Q5L6b5LqG5Lik5Liq5o6l5Y+jc2V0SXRlbShrZXksIHZhbCnlkoxnZXRJdGVtKGtleSlcIildKSwgX3ZtLl92KFwiIFwiKSwgX2MoJ2gzJywgW192bS5fdihcIua6kOS7o+egge+8mlwiKV0pLCBfdm0uX3YoXCIgXCIpLCBfYygncHJlJywgW192bS5fdihcIi8qXFxuICDmj5Dkvpvkuoboh6rliqjnm5HmjqfljaDnlKjlpKflsI9cXG4gIOiuvue9ruWNuOmZpOetlueVpeeahOe8k+WtmOW3peWFt1xcbiovXFxuXFxuLy8ga2V555qE5YmN57yAXFxubGV0IHByZWZpeCA9ICdzdXBlcm1hcmtldC0nXFxuLy8g5Y246Zmk562W55WlIOWFiOi/m+WFiOWHuiBGSUZPIOacgOi/keacgOWwkeS9v+eUqCBMUlVcXG5sZXQgZHJvcFN0cmF0ZWd5ID0gJ0ZJRk8nXFxuLy8g5pyA5aSn5Y2g55So6ZiI5YC8IOWNleS9jWtiIDI1MDAg5pivMi41TVxcbmxldCBtYXhpbXVtID0gMjUwMFxcbi8vIOa4hemZpOW8gOWni+aXtumXtOeCuSDpu5jorqTkuLo35aSpXFxubGV0IHRpbWVQb2ludCA9IDEwMDAgKiA2MCAqIDYwICogMjQgKiA3XFxuXFxuZnVuY3Rpb24gb2NjdXB5U2l6ZSAoKSB7XFxuICB2YXIgc2l6ZSA9IDBcXG4gIGZvciAobGV0IGl0ZW0gaW4gd2luZG93LmxvY2FsU3RvcmFnZSkge1xcbiAgICBpZiAod2luZG93LmxvY2FsU3RvcmFnZS5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xcbiAgICAgIC8vIGNvbnNvbGUuaW5mbyh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oaXRlbSkpXFxuICAgICAgc2l6ZSArPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oaXRlbSkubGVuZ3RoXFxuICAgIH1cXG4gIH1cXG4gIC8vIGNvbnNvbGUubG9nKCflvZPliY1sb2NhbFN0b3JhZ2XliankvZnlrrnph4/kuLonICsgKHNpemUgLyAxMDI0KS50b0ZpeGVkKDIpICsgJ0tCJylcXG4gIHJldHVybiAoc2l6ZSAvIDEwMjQpLnRvRml4ZWQoMilcXG59XFxuXFxuZnVuY3Rpb24gYXV0b0NsZWFyICgpIHtcXG4gIGlmIChvY2N1cHlTaXplKCkgPCBtYXhpbXVtKSB7XFxuICAgIC8vIGNvbnNvbGUuaW5mbygn5pqC5pe25LiN6ZyA6KaB5riF6Zmk57yT5a2Y77yM56m66Ze06L+Y5pyJJylcXG4gICAgcmV0dXJuXFxuICB9XFxuICBjbGVhckl0ZW1zKGRyb3BTdHJhdGVneSlcXG59XFxuXFxuZnVuY3Rpb24gY2xlYXJJdGVtcyAoc3RyYXRlZ3kpIHtcXG4gIGxldCB0aW1lSW50ZXJ2YWwgPSB0aW1lUG9pbnRcXG4gIHdoaWxlIChvY2N1cHlTaXplKCkgPj0gbWF4aW11bSAmJiB0aW1lSW50ZXJ2YWwgPiAxMDAwKSB7XFxuICAgIGZvciAobGV0IGl0ZW0gaW4gd2luZG93LmxvY2FsU3RvcmFnZSkge1xcbiAgICAgIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlLmhhc093blByb3BlcnR5KGl0ZW0pICYmIGl0ZW0uaW5kZXhPZihwcmVmaXgpID09PSAwKSB7XFxuICAgICAgICBsZXQgdmFsU3RyID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGl0ZW0pXFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICBsZXQgdmFsT2JqID0gSlNPTi5wYXJzZSh2YWxTdHIpXFxuICAgICAgICAgIGlmIChzdHJhdGVneSA9PT0gJ0ZJRk8nICYmICh2YWxPYmouY3JlYXRlVGltZSArIHRpbWVJbnRlcnZhbCA8IERhdGUubm93KCkpKSB7XFxuICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGl0ZW0pXFxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RyYXRlZ3kgPT09ICdMUlUnICYmICh2YWxPYmoubGFzdFVzZWRUaW1lICsgdGltZUludGVydmFsIDwgRGF0ZS5ub3coKSkpIHtcXG4gICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oaXRlbSlcXG4gICAgICAgICAgfVxcbiAgICAgICAgfSBjYXRjaCAoZSkge1xcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ2Vycm9yIG9jY3VyIGR1cmluZyBjbGVhciBvcGVydGlvbjogJyArIGUpXFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICB9XFxuICAgIC8vIOS7pTPlgI3njofpgLzov5HlvZPliY3ml7bpl7RcXG4gICAgdGltZUludGVydmFsID0gTWF0aC5yb3VuZCh0aW1lSW50ZXJ2YWwgLyAzKVxcbiAgfVxcbn1cXG5cXG5zZXRUaW1lb3V0KGF1dG9DbGVhciwgMjAwMClcXG5cXG4vLyDlnKjku7vkvZXkuIDkuKrlgLzlr7nosaHkuK3pg73ljIXoo4XkuobkuKTkuKrlsZ7mgKcgY3JlYXRlVGltZSDlkowgbGFzdFVzZWRUaW1lXFxuLy8g55yf5a6e55qE5YC85a+56LGh5ZyodmFs5bGe5oCn5LitXFxuZXhwb3J0IGZ1bmN0aW9uIHNldEl0ZW0gKGtleSwgdmFsdWUpIHtcXG4gIGxldCB3cmFwcGVyID0ge1xcbiAgICBjcmVhdGVUaW1lOiBEYXRlLm5vdygpLFxcbiAgICBsYXN0VXNlZFRpbWU6IDAsXFxuICAgIHZhbDogdmFsdWVcXG4gIH1cXG4gIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShwcmVmaXggKyBrZXksIEpTT04uc3RyaW5naWZ5KHdyYXBwZXIpKVxcbn1cXG5cXG5leHBvcnQgZnVuY3Rpb24gZ2V0SXRlbSAoa2V5KSB7XFxuICBsZXQgd3JhcHBlciA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShwcmVmaXggKyBrZXkpXFxuICBsZXQgcmVzdWx0ID0gJydcXG4gIHRyeSB7XFxuICAgIHJlc3VsdCA9IEpTT04ucGFyc2Uod3JhcHBlcilcXG4gICAgLy8g5YaZ5YWl5pyA6L+R6K6/6Zeu5pe26Ze0XFxuICAgIHJlc3VsdC5sYXN0VXNlZFRpbWUgPSBEYXRlLm5vdygpXFxuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShwcmVmaXggKyBrZXksIEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpXFxuICB9IGNhdGNoIChlKSB7XFxuICAgIGNvbnNvbGUud2FybignbG9jYWxTdG9yYWdlIHBhcnNlIGRhdGEgZXJyb3IgOiAnICsgZSlcXG4gIH1cXG4gIHJldHVybiByZXN1bHQgJiYgcmVzdWx0LnZhbFxcbn1cXG5cIildKV0pXG59XX1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdnVlLWxvYWRlci9saWIvdGVtcGxhdGUtY29tcGlsZXI/e1wiaWRcIjpcImRhdGEtdi0wNDhkMjhhMlwifSEuL34vdnVlLWxvYWRlci9saWIvc2VsZWN0b3IuanM/dHlwZT10ZW1wbGF0ZSZpbmRleD0wIS4vfi92dWUtbWFya2Rvd24tbG9hZGVyL19jYWNoZS9jYWNoZS00Ny52dWVcbi8vIG1vZHVsZSBpZCA9IDQ1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDUyIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///453\n")},633:function(module,exports,__webpack_require__){eval("module.exports = __webpack_require__(366);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjMzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vZG9jcy9jb21wb25lbnRzL2NhY2hlLm1kP2I0N2MiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiISF2dWUtbG9hZGVyIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbWFya2Rvd24tbG9hZGVyL19jYWNoZS9jYWNoZS00Ny52dWVcIik7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9kb2NzL2NvbXBvbmVudHMvY2FjaGUubWRcbi8vIG1vZHVsZSBpZCA9IDYzM1xuLy8gbW9kdWxlIGNodW5rcyA9IDUyIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///633\n")}});